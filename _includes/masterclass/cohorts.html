<div class="carousel-container" id="interest">
    <br>
    <div style="text-align: center;">
        <h2>Which SAT are you preparing for?</h2>
    </div>

    <div class="carousel-tabs">
        <button class="tab-item active" data-slide="0">
            August
        </button>
        <button class="tab-item" data-slide="1">
            September
        </button>
        <button class="tab-item" data-slide="2">
            October
        </button>
        <button class="tab-item" data-slide="3">
            Beyond
        </button>
    </div>

    <div class="carousel-content">
        <div class="carousel-slide active" data-slide-index="0">
            {% include masterclass/async.html %}
            {% include masterclass/schedules/async.html %}
        </div>
        <div class="carousel-slide" data-slide-index="1">
            {% include masterclass/interest.html %}
            {% include masterclass/schedules/september.html %}
        </div>
        <div class="carousel-slide" data-slide-index="2">
            {% include masterclass/interest.html %}
        </div>
        <div class="carousel-slide" data-slide-index="3">
            {% include masterclass/interest.html %}
        </div>
    </div>
</div>

<script>
    // JavaScript Logic (remains the same as the simplified version)
    document.addEventListener('DOMContentLoaded', () => {
        // Select all carousel instances using the base class
        const carousels = document.querySelectorAll('.carousel-container'); // <-- Using .carousel-container as the base

        carousels.forEach(carousel => {
            // For each carousel, find its specific tabs and slides *within that carousel*
            const tabItems = carousel.querySelectorAll('.tab-item');
            const carouselSlides = carousel.querySelectorAll('.carousel-slide');

            tabItems.forEach(tab => {
                tab.addEventListener('click', () => {
                    // Deactivate tabs and slides only within the *current* carousel
                    tabItems.forEach(item => item.classList.remove('active'));
                    carouselSlides.forEach(slide => slide.classList.remove('active'));

                    tab.classList.add('active');

                    const targetSlideIndex = tab.dataset.slide;
                    // Find the target slide within the *current* carousel
                    const targetSlide = carousel.querySelector(`.carousel-slide[data-slide-index="${targetSlideIndex}"]`);

                    if (targetSlide) {
                        targetSlide.classList.add('active');
                    }
                });
            });

            // Initialize the first tab and slide as active for each carousel
            if (tabItems.length > 0) {
                tabItems[0].classList.add('active');
            }
            if (carouselSlides.length > 0) {
                carouselSlides[0].classList.add('active');
            }
        });
    });
</script>