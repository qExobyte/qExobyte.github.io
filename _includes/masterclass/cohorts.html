<style>
    .carousel-container {
        width: 100%;
        margin: auto;
        max-width: 1000px;
        border-radius: 8px;
        overflow: hidden;
    }

    .carousel-tabs {
        display: flex; /* Make this the main flex container for tabs */
        justify-content: space-around; /* Distribute tabs evenly across the width */
        align-items: center; /* Vertically center tab content */
        padding: 10px 0; /* Adjusted padding to better fit pill height */
        border: 2px solid black;
        border-radius: 24px; /* Matches the outer border radius */
    }

    .tab-item {
        background: none;
        border: none;
        cursor: pointer;
        padding: 10px 15px; /* Defines the internal padding of each "pill segment" */
        opacity: 0.6;
        transition: opacity 0.3s ease, background-color 0.3s ease, border-radius 0.3s ease, color 0.3s ease, font-weight 0.3s ease;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-grow: 1; /* Makes each tab button grow to fill available space */
        margin: 0 15px 0 15px;
        border-radius: 20px; /* Rounded corners for the pill effect */
        white-space: nowrap; /* Prevent text wrapping */
        color: #555; /* Default text color for inactive tabs */
    }

    .tab-item:hover {
        opacity: 0.8;
    }

    .tab-item.active {
        opacity: 1;
        background-color: var(--brand-color); /* The tab itself becomes the yellow pill */
        color: black; /* Text color on active pill */
        font-weight: bold; /* Make text stand out */
        /* border-radius: 20px; Not strictly needed here if already on .tab-item */
    }

    .carousel-content {
        padding: 30px;
        min-height: 400px;
        position: relative;
    }

    .carousel-slide {
        display: none;
        animation: fadeIn 0.2s ease-in-out;
        width: calc(100% - 60px);
        top: 30px;
        left: 30px;
    }

    .carousel-slide.active {
        display: block;
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .carousel-slide h2 {
        color: #333;
        margin-top: 0;
        margin-bottom: 15px;
    }

    .carousel-slide p {
        color: #555;
        line-height: 1.6;
    }
</style>

<div class="carousel-container" id="interest">
    <br>
    <div style="text-align: center;">
        <h2>Which SAT are you preparing for?</h2>
    </div>

    <div class="carousel-tabs">
        <button class="tab-item active" data-slide="0">
            August
        </button>
        <button class="tab-item" data-slide="1">
            September
        </button>
        <button class="tab-item" data-slide="2">
            October
        </button>
        <button class="tab-item" data-slide="3">
            Beyond
        </button>
    </div>

    <div class="carousel-content">
        <div class="carousel-slide active" data-slide-index="0">
            <h3 style="text-align: center; margin: 2rem auto 2rem auto !important;">
                The August cohort is already <b>full.</b>
                <br><br>
                In fact, it filled up in less than 48 hours!!
                <br><br>
                However, I plan to offer an asynchronous option (at a much lower rate).
                <br><br>
                And depending on demand, I might run a <i>second</i> live August cohort. I might make the two cohorts compete with one another. So if you're interested, please fill out the form!
            </h3>
            {% include masterclass/interest.html %}
        </div>
        <div class="carousel-slide" data-slide-index="1">
            {% include masterclass/interest.html %}
        </div>
        <div class="carousel-slide" data-slide-index="2">
            {% include masterclass/interest.html %}
        </div>
        <div class="carousel-slide" data-slide-index="3">
            {% include masterclass/interest.html %}
        </div>
    </div>
</div>

<script>
    // JavaScript Logic (remains the same as the simplified version)
    document.addEventListener('DOMContentLoaded', () => {
        const tabItems = document.querySelectorAll('.tab-item');
        const carouselSlides = document.querySelectorAll('.carousel-slide');

        tabItems.forEach(tab => {
            tab.addEventListener('click', () => {
                tabItems.forEach(item => item.classList.remove('active'));
                carouselSlides.forEach(slide => slide.classList.remove('active'));

                tab.classList.add('active');

                const targetSlideIndex = tab.dataset.slide;
                const targetSlide = document.querySelector(`.carousel-slide[data-slide-index="${targetSlideIndex}"]`);

                if (targetSlide) {
                    targetSlide.classList.add('active');
                }
            });
        });

        if (tabItems.length > 0) {
            tabItems[0].classList.add('active');
        }
        if (carouselSlides.length > 0) {
            carouselSlides[0].classList.add('active');
        }
    });
</script>